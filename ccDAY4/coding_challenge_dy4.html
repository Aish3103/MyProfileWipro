<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Blog & Todo Platform </title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f9faff;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    h2 {
      color: #2c3e50;
      border-bottom: 2px solid #2980b9;
      padding-bottom: 5px;
      margin-bottom: 15px;
    }
    #posts-container, #todos-container {
      background: #fff;
      padding: 15px;
      border-radius: 6px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      max-width: 600px;
      margin-bottom: 40px;
    }
    .post, .todo {
      margin: 10px 0;
      padding: 15px;
      border-radius: 4px;
      border: 1px solid #ddd;
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      cursor:pointer;
    }
    .post:hover, .todo:hover {
      background-color: #b5d7ec;
      box-shadow: 0 4px 8px rgba(41, 128, 185, 0.15);
    }
    .post h3 {
      margin-top: 0;
      margin-bottom: 8px;
      color: #2980b9;
      font-size: 1.2em;
    }
    #error-message {
      color: #c0392b;
      font-weight: bold;
      padding: 10px;
      background-color: #fdecea;
      border: 1px solid #e74c3c;
      border-radius: 4px;
    }
    input[type="checkbox"] {
      transform: scale(1.2);
      margin-right: 10px;
      vertical-align: middle;
    }
    span {
      vertical-align: middle;
    }
  </style>
</head>
<body>
  <h2>Blog Posts</h2>
  <div id="posts-container"></div>

  <h2>Todo List</h2>
  <div id="todos-container"></div>

  <script>
    const BlogApp = (function() {
      // Private: Fetch blog posts
      const fetchPosts = () =>
        fetch('https://jsonplaceholder.typicode.com/posts')
          .then(response => {
            if (!response.ok) throw new Error('Network response was not ok');
            return response.json();
          });

      // Private: Fetch todos
      const fetchTodos = () =>
        fetch('https://jsonplaceholder.typicode.com/todos')
          .then(response => {
            if (!response.ok) throw new Error('Network response was not ok');
            return response.json();
          });

      // Private: Display posts (first 10 only)
      const displayPosts = posts => {
        const postsDiv = document.getElementById('posts-container');
        postsDiv.innerHTML = '';
        posts.slice(0, 10).forEach(post => {
          const postElem = document.createElement('div');
          postElem.classList.add('post');
          postElem.innerHTML = `<h3>${post.title}</h3><p>${post.body}</p>`;
          postsDiv.appendChild(postElem);
        });
      };

      // Private: Display todos (first 10 only)
      const displayTodos = todos => {
        const todosDiv = document.getElementById('todos-container');
        todosDiv.innerHTML = '';
        todos.slice(0, 10).forEach(todo => {
          const todoElem = document.createElement('div');
          todoElem.classList.add('todo');
          todoElem.innerHTML = `
            <input type="checkbox" ${todo.completed ? 'checked' : ''} disabled>
            <span>${todo.title}</span>
          `;
          todosDiv.appendChild(todoElem);
        });
      };

      // Private: Display error messages
      const showError = (containerId, message) => {
        const container = document.getElementById(containerId);
        container.innerHTML = `<div id="error-message">${message}</div>`;
      };

      // Public: Initialize app
      const init = () => {
        fetchPosts()
          .then(displayPosts)
          .catch(error => showError('posts-container', 'Failed to load posts: ' + error.message));

        fetchTodos()
          .then(displayTodos)
          .catch(error => showError('todos-container', 'Failed to load todos: ' + error.message));
      };

      // Reveal only public methods
      return {
        init
      };
    })();

    document.addEventListener('DOMContentLoaded', BlogApp.init);
  </script>
</body>
</html>
